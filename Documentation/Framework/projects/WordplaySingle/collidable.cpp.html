<HTML>
<HEAD>
<TITLE>
collidable.cpp
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#include</font> <font color="maroon">"collidable.h"</font>


<font color="green">/*******************************
    Default destructor
*******************************/</font>
BoundingBox<font color="black">:</font><font color="black">:</font>~BoundingBox<font color="black">(</font><font color="black">)</font><font color="black">{</font><font color="black">}</font>

<font color="green">/*********************************************
    Constructor

    @param x The x coordinate of the top-left corner
    @param y The y coordinate of the top-left corner
    @param w The width of the box
    @param h The height of the box
*********************************************/</font>
BoundingBox<font color="black">:</font><font color="black">:</font>BoundingBox<font color="black">(</font><font color="blue">int</font> x, <font color="blue">int</font> y, <font color="blue">int</font> w, <font color="blue">int</font> h<font color="black">)</font>
<font color="black">{</font>
    width <font color="black">=</font> w;
    height <font color="black">=</font> h;
    x <font color="black">=</font> x;
    y <font color="black">=</font> y;
<font color="black">}</font>

<font color="green">/*********************************************
    Constructor

    @param box The &#60;code&#62;BoundingBox&#60;/code&#62; being copied
*********************************************/</font>
BoundingBox<font color="black">:</font><font color="black">:</font>BoundingBox<font color="black">(</font><font color="blue">const</font> BoundingBox <font color="black">&</font>box<font color="black">)</font>
<font color="black">{</font>
    width <font color="black">=</font> box.width;
    height <font color="black">=</font> box.height;
    x <font color="black">=</font> box.x;
    y <font color="black">=</font> box.y;
<font color="black">}</font>

<font color="green">/*********************************************
    Sets the x, y pixel coordinate position of the
    &#60;code&#62;BoundingBox&#60;/code&#62;.

    @param x The x coordinate of the new position
    @param y The y coordinate of the new position
*********************************************/</font>
<font color="blue">void</font> BoundingBox<font color="black">:</font><font color="black">:</font>SetPosition<font color="black">(</font><font color="blue">int</font> new_x, <font color="blue">int</font> new_y<font color="black">)</font>
<font color="black">{</font>
    x <font color="black">=</font> new_x;
    y <font color="black">=</font> new_y;
<font color="black">}</font>

<font color="green">/*********************************************
    Sets the width and height of the
    &#60;code&#62;BoundingBox&#60;/code&#62;.

    @param w The new width
    @param h The new height
*********************************************/</font>
<font color="blue">void</font> BoundingBox<font color="black">:</font><font color="black">:</font>SetSize<font color="black">(</font><font color="blue">int</font> w, <font color="blue">int</font> h<font color="black">)</font>
<font color="black">{</font>
    width <font color="black">=</font> w;
    height <font color="black">=</font> h;
<font color="black">}</font>

<font color="green">/*********************************************
    @return The current x coordinate of the
    &#60;code&#62;BoundingBox&#60;/code&#62;'s position.
*********************************************/</font>
<font color="blue">int</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetPositionX<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> x;
<font color="black">}</font>


<font color="green">/*********************************************
    @return The current y coordinate of the
    &#60;code&#62;BoundingBox&#60;/code&#62;'s position.
*********************************************/</font>
<font color="blue">int</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetPositionY<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> y;
<font color="black">}</font>


<font color="green">/*********************************************
    @return The current width of the
    &#60;code&#62;BoundingBox&#60;/code&#62;.
*********************************************/</font>
<font color="blue">int</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetWidth<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> width;
<font color="black">}</font>


<font color="green">/*********************************************
    @return The current height of the
    &#60;code&#62;BoundingBox&#60;/code&#62;.
*********************************************/</font>
<font color="blue">int</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetHeight<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> height;
<font color="black">}</font>

<font color="green">/*********************************************
    Determines whether or not
    the &#60;code&#62;BoundingBox&#60;/code&#62; is overlapping 
    another &#60;code&#62;BoundingBox&#60;/code&#62;

    @param other The &#60;code&#62;BoundingBox&#60;/code&#62; being tested for overlap
    @return &#60;code&#62;true&#60;/code&#62; if the BoundingBox is overlapping other, &#60;code&#62;false&#60;/code&#62; otherwise
*********************************************/</font>
<font color="blue">bool</font> BoundingBox<font color="black">:</font><font color="black">:</font>isColliding<font color="black">(</font><font color="blue">const</font> BoundingBox <font color="black">&</font>other<font color="black">)</font>
<font color="black">{</font>
    <font color="blue">int</font> left<font color="black">[</font><font color="maroon">2</font><font color="black">]</font> <font color="black">=</font> <font color="black">{</font>x, other.x<font color="black">}</font>;
    <font color="blue">int</font> top<font color="black">[</font><font color="maroon">2</font><font color="black">]</font> <font color="black">=</font> <font color="black">{</font>y, other.y<font color="black">}</font>;
    <font color="blue">int</font> right<font color="black">[</font><font color="maroon">2</font><font color="black">]</font> <font color="black">=</font> <font color="black">{</font>x<font color="black">+</font>width, other.x<font color="black">+</font>other.width<font color="black">}</font>;
    <font color="blue">int</font> bottom<font color="black">[</font><font color="maroon">2</font><font color="black">]</font> <font color="black">=</font> <font color="black">{</font>y<font color="black">+</font>height, other.y<font color="black">+</font>other.height<font color="black">}</font>;
    <font color="blue">bool</font> colliding <font color="black">=</font> <font color="blue">true</font>;

    <font color="green">// One is completely above or below the other</font>

    <font color="blue">if</font><font color="black">(</font>bottom<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">&#60;</font> top<font color="black">[</font><font color="maroon">1</font><font color="black">]</font><font color="black">)</font> colliding <font color="black">=</font> <font color="blue">false</font>;
    <font color="blue">if</font><font color="black">(</font>top<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">&#62;</font> bottom<font color="black">[</font><font color="maroon">1</font><font color="black">]</font><font color="black">)</font> colliding <font color="black">=</font> <font color="blue">false</font>;

    <font color="green">// One is completely left or right of the other</font>
    <font color="blue">if</font><font color="black">(</font>left<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">&#62;</font> right<font color="black">[</font><font color="maroon">1</font><font color="black">]</font><font color="black">)</font> colliding <font color="black">=</font> <font color="blue">false</font>;
    <font color="blue">if</font><font color="black">(</font>right<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">&#60;</font> left<font color="black">[</font><font color="maroon">1</font><font color="black">]</font><font color="black">)</font> colliding <font color="black">=</font> <font color="blue">false</font>;

    <font color="blue">return</font> colliding;
<font color="black">}</font>

</PRE>
</BODY>
</HTML>
