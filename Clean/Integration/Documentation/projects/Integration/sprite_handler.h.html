<HTML>
<HEAD>
<TITLE>
sprite_handler.h
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="green">/*
Jason Deering

sprite_handler.h

This class is for use in the Framework.

It requires the C++ STL map class file reference and sprite containers.

The SpriteHandler class controls the display and changing of all sprites and bitmap image files.


DATA ITEMS
    map&#60;string, Sprite&#62; sprites - container for all active sprites 
    map&#60;string, ImageFile*&#62; files - container for all files that may be used by the framework a module
    
    int numSprites - the number of sprites currently in the sprite container
    int numFiles - the number of files currently in image file container

FUNCTIONS
    bool RemoveSprite(std::string refName) - removes the sprite from the container at key refName. 
                                                Returns success or fail as a boolean.
    bool AddSprite(std::string refName, std::string imageRef, int x, int y, int w, int h) - adds a sprite to the container
            with the specified properties to the key refName. Returns success or fail as a boolean.
    bool AddSprite(std::string refName, std::string imageRef, int x, int y) - adds a sprite to the container
            with the specified properties to the key refName. Uses the width and height parameters of the image
            file specified by imageRef for use in the sprite. Returns success or fail as a boolean.
    DrawSprites(BITMAP* dest) - draws all active sprites to the dest parameter
    bool AddFile(std::string imageRef, std::string filePath, int w, int h, int frame_count, int col_count) -
                    adds the image file referenced by the key imageRef to container with the specified properties
                        returns success or fail as a boolean
    bool RemoveFile(std::string imageRef) - removes the image file referenced by the key imageRef in the container
                                                returns success or fail as a boolean

    MoveSprite(std::string refName, int new_x, int new_y, int speed) - calls the Sprite class's move function for
                    the sprite at key refName using the remaining parameters
    SetSpriteSize(std::string refName, int w, int h) - calls the Sprite class's set size function for
                    the sprite at key refName using the remaining parameters
    SetSpriteLocation(std::string refName, int x, int y) - calls the Sprite class's set location function for
                    the sprite at key refName using the remaining parameters
    SetVisible(std::string refName, int visible) - calls the Sprite class's set visible function for
                    the sprite at key refName using the remaining parameter
    SetFrameDelay(std::string refName, int delay) - calls the Sprite class's frame delay function for
                    the sprite at key refName using the remaining parameter
    SetAnimation(std::string refName, int animate) - calls the Sprite class's set animate function for
                    the sprite at key refName using the remaining parameter
    SetFrame(std::string refName, int frame) - calls the Sprite class's set frame function for
                    the sprite at key refName using the remaining parameter
    ChangeBitmap(std::string refName, std::string fileRef) - calls the Sprite class's change bitmap function for
                    the sprite at key refName using the remaining parameter

    CheckClicks(BoundingBox &pointer) - checks collision detection of the mouse pointer on a sprite on clicks
                                         returns a string reference to the sprite

*/</font>

<font color="blue">#ifndef</font> _SPRITE_HANDLER_H
<font color="blue">#define</font> _SPRITE_HANDLER_H

<font color="blue">#include</font> <font color="maroon">"sprite.h"</font>
<font color="blue">#include</font> <font color="maroon">"image_file.h"</font>
<font color="blue">#include</font> <font color="maroon">"globals.h"</font>

<font color="blue">#define</font> MAX_SPRITES <font color="maroon">500</font>

<font color="blue">class</font> SpriteHandler
<font color="black">{</font>
<font color="blue">private</font><font color="black">:</font>
    <font color="green">// Sprite Container</font>
    std<font color="black">:</font><font color="black">:</font>map<font color="black">&#60;</font>std<font color="black">:</font><font color="black">:</font>string, Sprite<font color="black">&#62;</font> sprites;
    <font color="green">// Bitmap Files</font>
    std<font color="black">:</font><font color="black">:</font>map<font color="black">&#60;</font>std<font color="black">:</font><font color="black">:</font>string, ImageFile<font color="black">*</font><font color="black">&#62;</font> files;
    
    <font color="blue">int</font> numSprites, numFiles;
<font color="blue">public</font><font color="black">:</font>
    SpriteHandler<font color="black">(</font><font color="black">)</font>;
    ~SpriteHandler<font color="black">(</font><font color="black">)</font>;

    <font color="green">// Sprite updater</font>
    <font color="blue">bool</font> RemoveSprite<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName<font color="black">)</font>;
    <font color="blue">bool</font> AddSprite<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, std<font color="black">:</font><font color="black">:</font>string imageRef, <font color="blue">int</font> x, <font color="blue">int</font> y, <font color="blue">int</font> w, <font color="blue">int</font> h<font color="black">)</font>;
    <font color="blue">bool</font> AddSprite<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, std<font color="black">:</font><font color="black">:</font>string imageRef, <font color="blue">int</font> x, <font color="blue">int</font> y<font color="black">)</font>;
    <font color="blue">void</font> DrawSprites<font color="black">(</font>BITMAP<font color="black">*</font><font color="black">)</font>;
    <font color="blue">bool</font> AddFile<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string imageRef, std<font color="black">:</font><font color="black">:</font>string filePath, <font color="blue">int</font> w, <font color="blue">int</font> h, <font color="blue">int</font> frame_count, <font color="blue">int</font> col_count<font color="black">)</font>;
    <font color="blue">bool</font> RemoveFile<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string imageRef<font color="black">)</font>;

    <font color="green">// Sprite moving/animating</font>
    <font color="blue">void</font> MoveSprite<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> new_x, <font color="blue">int</font> new_y, <font color="blue">int</font> speed<font color="black">)</font><font color="black">{</font> sprites<font color="black">[</font>refName<font color="black">]</font>.MoveTo<font color="black">(</font>new_x, new_y, speed<font color="black">)</font>; <font color="black">}</font>
    <font color="blue">void</font> SetSpriteSize<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> w, <font color="blue">int</font> h<font color="black">)</font>;
    <font color="blue">void</font> SetSpriteLocation<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> x, <font color="blue">int</font> y<font color="black">)</font>;
    <font color="blue">void</font> SetVisible<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> visible<font color="black">)</font>;
    <font color="blue">void</font> SetFrameDelay<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> delay<font color="black">)</font>;
    <font color="blue">void</font> SetAnimation<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> animate<font color="black">)</font>;
    <font color="blue">void</font> SetFrame<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, <font color="blue">int</font> frame<font color="black">)</font>;
    <font color="blue">void</font> ChangeBitmap<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>string refName, std<font color="black">:</font><font color="black">:</font>string fileRef<font color="black">)</font>;

    <font color="green">// Check Mouse Clicks on Sprites</font>
    std<font color="black">:</font><font color="black">:</font>string CheckClicks<font color="black">(</font>BoundingBox <font color="black">&</font>pointer<font color="black">)</font>;
<font color="black">}</font>;


<font color="blue">#endif</font>
</PRE>
</BODY>
</HTML>
